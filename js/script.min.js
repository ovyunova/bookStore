!function(r){var t={};function a(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return r[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=r,a.c=t,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var t in n)a.d(r,t,function(e){return n[e]}.bind(null,t));return r},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s="./src/js/script.js")}({"./src/js/modules/booksCardTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nvar bookCardTemplate = {\n  wrap: \'.j-cards\',\n  tag: \'article\',\n  tagClass: \'product-card-mini\',\n  setContent: function setContent(data) {\n    return "<h2 class=\\"product-card-mini__title\\">\\n            <a href=\\"".concat(data.uri, "\\">").concat(data.name, "</a>\\n          </h2>\\n          <a href=\\"").concat(data.uri, "\\" class=\\"product-card-mini__img-wrap\\">\\n            <img src=\\"img/books_all/").concat(data.uri, ".png\\" class=\\"product-card-mini__img\\">\\n          </a>\\n          <p class=\\"product-card-mini__descr\\">").concat(data.desc, " </p>\\n          <div class=\\"product-card-mini__price\\">").concat(data.price, " &#8381</div>");\n  }\n};\n/* harmony default export */ __webpack_exports__["default"] = (bookCardTemplate);\n\n//# sourceURL=webpack:///./src/js/modules/booksCardTemplate.js?')},"./src/js/modules/createElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nfunction createElement(book, template) {\n  var article = document.createElement(template.tag);\n  article.classList.add(template.tagClass);\n  article.innerHTML = template.setContent(book);\n  return article;\n}\n\n;\n/* harmony default export */ __webpack_exports__["default"] = (createElement);\n\n//# sourceURL=webpack:///./src/js/modules/createElement.js?')},"./src/js/modules/insertElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createElement.js */ "./src/js/modules/createElement.js");\n\n\nfunction insertElement(array, template) {\n  var wrap = document.querySelector(template.wrap);\n  array.forEach(function (item) {\n    var book = Object(_createElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(item, template);\n    var wrap = document.querySelector(template.wrap);\n    wrap.appendChild(book); // console.log();\n  });\n}\n\n;\n/* harmony default export */ __webpack_exports__["default"] = (insertElement);\n\n//# sourceURL=webpack:///./src/js/modules/insertElement.js?')},"./src/js/modules/sendRequest.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nfunction sendRequest(data, onSuccess) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\'GET\', data);\n  xhr.send();\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      var responseObj = JSON.parse(xhr.responseText);\n      onSuccess(responseObj);\n    } else {\n      console.log("\\u0436\\u0434\\u0443" + xhr.readyState);\n    }\n  };\n}\n\n;\n/* harmony default export */ __webpack_exports__["default"] = (sendRequest);\n\n//# sourceURL=webpack:///./src/js/modules/sendRequest.js?')},"./src/js/script.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_insertElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/insertElement.js */ "./src/js/modules/insertElement.js");\n/* harmony import */ var _modules_booksCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/booksCardTemplate.js */ "./src/js/modules/booksCardTemplate.js");\n/* harmony import */ var _modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/sendRequest.js */ "./src/js/modules/sendRequest.js");\n// import jquery from \'./node_modules/jquery/src/jquery.js\';\n// import slick-carousel from \'./node_modules/slick-carousel/slick/slick.min.js\';\n\n\n // import initMap from \'./modules/map.js\'\n// if (document.querySelector(bookCardTemplate.wrap)) {\n//   insertElement(data.items, bookCardTemplate);\n// }\n//объект данных для запроса\n\nvar url = {\n  page: 1,\n  perPage: 8,\n  type: \'\'\n};\nvar wrap = document.querySelector(_modules_booksCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"].wrap);\n\nif (wrap) {\n  var dataAjax = createDataAjax();\n  Object(_modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__["default"])(dataAjax, function (responseObj) {\n    if (wrap.children) {\n      wrap.innerHTML = \'\';\n    }\n\n    Object(_modules_insertElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(responseObj.items, _modules_booksCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"]);\n  });\n}\n\n; // вешаем слушатель на табы\n\nvar tabsWrap = document.querySelector(\'.j-tabs\');\nvar tabsArray = Array.from(tabsWrap.children);\ntabsArray.forEach(function (tab) {\n  var link = tab.firstElementChild;\n  link.addEventListener(\'click\', function (event) {\n    event.preventDefault();\n    url.type = event.target.dataset.type;\n    var dataAjax = createDataAjax();\n    Object(_modules_sendRequest_js__WEBPACK_IMPORTED_MODULE_2__["default"])(dataAjax, function (responseObj) {\n      if (wrap.children) {\n        wrap.innerHTML = \'\';\n      }\n\n      Object(_modules_insertElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(responseObj.items, _modules_booksCardTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"]);\n    });\n  });\n}); //функция подготовык урла для гет запроса\n\nfunction createDataAjax() {\n  if (window.matchMedia("(min-width: 768px)").matches) {\n    url.perPage = 8;\n  } else {\n    url.perPage = 3;\n  }\n\n  return "https://api.do-epixx.ru/htmlpro/bookstore/books/get/".concat(url.page, "/").concat(url.perPage, "/").concat(url.type);\n}\n\n; // function sendRequest(data) {\n//   let xhr = new XMLHttpRequest;\n//   xhr.open(\'GET\', data);\n//   xhr.send();\n//   xhr.onreadystatechange = function() {\n//     if(xhr.readyState === 4 && xhr.status === 200) {\n//       const request =JSON.parse(xhr.responseText);\n//       console.log(request);\n//       const wrap = document.querySelector(bookCardTemplate.wrap);\n//       if( wrap.children ) {\n//         wrap.innerHTML = \'\';\n//       }\n//       if (document.querySelector(bookCardTemplate.wrap)) {\n//         insertElement(request.items, bookCardTemplate);\n//       }\n//     } else {\n//       console.log(`жду`+ xhr.readyState);\n//     }\n//   };\n// };\n\n$(\'.slider__inner\').slick({\n  arrows: true,\n  autoplay: false,\n  speed: 300\n});\n\n//# sourceURL=webpack:///./src/js/script.js?')}});